<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NHAFLOWER - Địa chỉ giao hàng</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
      crossorigin="anonymous"
    />
    <link
      href="../../assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
      onerror="console.warn('Local Bootstrap CSS not available, using CDN')"
    />

    <!-- Font Awesome -->
    <link
      href="../../assets/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="../../assets/css/user/profile/profile-base.css"
    />
    <link rel="stylesheet" href="../../assets/css/user/profile/addresses.css" />
    <link rel="stylesheet" href="../../assets/css/user/common.css" />
  </head>
  <body>
    <!-- THANH NAVIGATION -->
    <nav class="navbar navbar-expand-lg navbar-custom fixed-top">
      <div class="container">
        <div class="navbar-nav mr-auto">
          <a class="nav-link-custom" href="../home.html">Home</a>
          <a class="nav-link-custom" href="../list_product.html">Danh sách</a>
        </div>

        <div class="navbar-brand-logo">
          <img
            src="../../assets/img/user/logo_NHAFLOWER.png"
            alt="NHAFLOWER"
            class="brand-circle-logo"
          />
        </div>

        <div class="navbar-nav ml-auto">
          <div class="nav-icon-wrapper">
            <div
              class="user-avatar"
              title="Trang cá nhân"
              onclick="window.location.href='personal-info.html'"
            >
              <i class="fas fa-user"></i>
            </div>
          </div>
          <div class="nav-icon-wrapper">
            <i
              class="fas fa-shopping-bag nav-icon"
              title="Giỏ hàng"
              onclick="window.location.href='../shopping_cart.html'"
            ></i>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      <div class="row profile-container">
        <!-- Sidebar -->
        <div class="col-lg-4">
          <div class="profile-sidebar">
            <div class="profile-avatar-section">
              <div class="profile-avatar">
                <img
                  id="profileAvatar"
                  src="../../assets/img/user/default-avatar.png"
                  alt="Avatar"
                  onerror="this.src='../../assets/img/products/default-flower.svg'"
                />
                <button class="change-avatar-btn" onclick="changeAvatar()">
                  <i class="fas fa-camera"></i>
                </button>
              </div>
              <h4 id="profileName">Người dùng NHAFLOWER</h4>
              <p id="profileEmail">user@nhaflower.com</p>
            </div>

            <nav class="profile-nav">
              <ul>
                <li>
                  <a href="personal-info.html" class="nav-item">
                    <i class="fas fa-user"></i>
                    Thông tin cá nhân
                  </a>
                </li>
                <li>
                  <a href="orders.html" class="nav-item">
                    <i class="fas fa-shopping-bag"></i>
                    Đơn hàng của tôi
                  </a>
                </li>
                <li>
                  <a href="addresses.html" class="nav-item active">
                    <i class="fas fa-map-marker-alt"></i>
                    Địa chỉ giao hàng
                  </a>
                </li>
                <li>
                  <a href="notifications.html" class="nav-item">
                    <i class="fas fa-bell"></i>
                    Thông báo
                  </a>
                </li>
                <li>
                  <a href="security.html" class="nav-item">
                    <i class="fas fa-lock"></i>
                    Bảo mật
                  </a>
                </li>
                <li>
                  <a href="#" class="nav-item logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    Đăng xuất
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>

        <!-- Addresses Content -->
        <div class="col-lg-8">
          <div class="content-card">
            <div class="card-header">
              <h3>Địa chỉ giao hàng</h3>
              <button class="btn btn-primary" onclick="showAddAddressModal()">
                <i class="fas fa-plus"></i>
                Thêm địa chỉ mới
              </button>
            </div>
            <div class="card-body">
              <div id="addressesList">
                <!-- Address Item 1 -->
                <div class="address-item">
                  <div class="address-header">
                    <div class="address-type">
                      <span class="badge badge-primary">Mặc định</span>
                      <span class="address-label">Nhà riêng</span>
                    </div>
                    <div class="address-actions">
                      <button
                        class="btn btn-outline-primary btn-sm"
                        onclick="editAddress(1)"
                      >
                        <i class="fas fa-edit"></i> Sửa
                      </button>
                      <button
                        class="btn btn-outline-danger btn-sm"
                        onclick="deleteAddress(1)"
                      >
                        <i class="fas fa-trash"></i> Xóa
                      </button>
                    </div>
                  </div>
                  <div class="address-details">
                    <h6>Nguyễn Văn An</h6>
                    <p>0123456789</p>
                    <p>123 Đường ABC, Phường XYZ, Quận 1, TP.HCM</p>
                  </div>
                </div>

                <!-- Address Item 2 -->
                <div class="address-item">
                  <div class="address-header">
                    <div class="address-type">
                      <span class="address-label">Công ty</span>
                    </div>
                    <div class="address-actions">
                      <button
                        class="btn btn-outline-secondary btn-sm"
                        onclick="setDefaultAddress(2)"
                      >
                        <i class="fas fa-star"></i> Đặt mặc định
                      </button>
                      <button
                        class="btn btn-outline-primary btn-sm"
                        onclick="editAddress(2)"
                      >
                        <i class="fas fa-edit"></i> Sửa
                      </button>
                      <button
                        class="btn btn-outline-danger btn-sm"
                        onclick="deleteAddress(2)"
                      >
                        <i class="fas fa-trash"></i> Xóa
                      </button>
                    </div>
                  </div>
                  <div class="address-details">
                    <h6>Nguyễn Văn An</h6>
                    <p>0123456789</p>
                    <p>456 Đường DEF, Phường UVW, Quận 3, TP.HCM</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add/Edit Address Modal -->
    <div class="modal fade" id="addressModal" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addressModalTitle">Thêm địa chỉ mới</h5>
            <button type="button" class="close" data-dismiss="modal">
              <span>&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="addressForm">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Họ và tên *</label>
                    <input
                      type="text"
                      id="addressFullName"
                      class="form-control"
                      required
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Số điện thoại *</label>
                    <input
                      type="tel"
                      id="addressPhone"
                      class="form-control"
                      required
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Tỉnh/Thành phố *</label>
                    <select id="addressProvince" class="form-control" required>
                      <option value="">Chọn tỉnh/thành phố</option>
                      <option value="ho-chi-minh">TP. Hồ Chí Minh</option>
                      <option value="ha-noi">Hà Nội</option>
                      <option value="da-nang">Đà Nẵng</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Quận/Huyện *</label>
                    <select id="addressDistrict" class="form-control" required>
                      <option value="">Chọn quận/huyện</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Phường/Xã *</label>
                    <select id="addressWard" class="form-control" required>
                      <option value="">Chọn phường/xã</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Địa chỉ cụ thể *</label>
                <textarea
                  id="addressDetail"
                  class="form-control"
                  rows="3"
                  placeholder="Số nhà, tên đường..."
                  required
                ></textarea>
              </div>
              <div class="form-group">
                <label>Loại địa chỉ</label>
                <div class="address-type-options">
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="addressType"
                      id="typeHome"
                      value="home"
                      checked
                    />
                    <label class="form-check-label" for="typeHome">
                      <i class="fas fa-home"></i> Nhà riêng
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input
                      class="form-check-input"
                      type="radio"
                      name="addressType"
                      id="typeOffice"
                      value="office"
                    />
                    <label class="form-check-label" for="typeOffice">
                      <i class="fas fa-building"></i> Công ty
                    </label>
                  </div>
                </div>
              </div>
              <div class="form-check">
                <input
                  type="checkbox"
                  id="setAsDefault"
                  class="form-check-input"
                />
                <label class="form-check-label" for="setAsDefault">
                  Đặt làm địa chỉ mặc định
                </label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Hủy
            </button>
            <button
              type="button"
              class="btn btn-primary"
              onclick="saveAddress()"
            >
              <i class="fas fa-save"></i> Lưu địa chỉ
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="../../assets/vendor/jquery/jquery.min.js"></script>
    <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
  </body>
</html>
